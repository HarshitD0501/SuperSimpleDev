<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>Rock Paper Scisors</h1>

  <button onclick="
    computerMove();
    playerMove('Rock');
  ">Rock</button>

  <button onclick="
    computerMove();
    playerMove('Paper');
  ">Paper</button>

  <button onclick="
    computerMove();
    playerMove('Scissors');
  ">Scissors</button>

  <p class="js-para"></p>

  <button onclick="
    score.loss=0;
    score.wins=0;
    score.tie=0;
    localStorage.removeItem('score');
    update();
  ">
    Reset Score
  </button>

  <script>
    let score=JSON.parse(localStorage.getItem("score"))
    if(!score){
      score={
        wins:0,
        loss:0,
        tie:0
      }
    }

    update();


    let result ='';
    function playerMove(move){
      
      if(move==='Rock'){
        if (computer=== 'Rock'){
          result='Tie.';
        }else if(computer==='Paper'){
          result='You Lose';
        }else{
          result='You win';
        }
      }
      if (move === 'Paper'){
        if (computer=== 'Rock'){
          result='You win';
        }else if(computer==='Paper'){
          result='Tie.';
        }else{
          result='You Lose ';
        }
      }
      if (move=== 'Scissors'){
        if (computer=== 'Rock'){
          result='You Lose';
        }else if(computer==='Paper'){
          result='You win';
        }else{
          result='Tie.';
        }
      }
      if (result === 'You win'){
        score.wins+=1;
      }else if(result==='You lose'){
        score.loss+=1;
      }else{
        score.tie+=1;
      }
      localStorage.setItem('score', JSON.stringify(score));
      update();
      alert(`You entered ${move} , Computeer reflects ${computer} . ${result}
wins : ${score.wins} , losses : ${score.loss} , Tie : ${score.tie}`);
  
    }

    function update(){
      document.querySelector('.js-para').innerHTML=`wins : ${score.wins} , losses : ${score.loss} , Tie : ${score.tie}`;
    
    }
    console.log("Result");
    console.log(result);

    let computer ='';
    function computerMove(){
      const randomNum=Math.random();
      if(randomNum<=0 && randomNum<1/3){
        computer='Rock';
      }
      else if(randomNum<2/3){
        computer='Paper';
      }else{
        computer='Scissors';
      }
    }
    
  </script>
</body>
</html>